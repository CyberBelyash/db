# db
DSTU DB Labs

Проект представляет собой систему управления расчетными листками сотрудников с использованием PostgreSQL. 
Скрипт предоставляет базовый функционал для создания структуры БД, заполнения тестовыми данными 
и получения информации о расчетных листках.

## Сущности и их атрибуты

### Таблица `worker`
Хранит информацию о сотрудниках:
| Атрибут      | Тип данных | Описание                     |
|--------------|------------|------------------------------|
| workercode   | BIGINT     | Уникальный код сотрудника (PK) |
| name         | VARCHAR    | Имя сотрудника               |
| middlename   | VARCHAR    | Отчество                     |
| lastname     | VARCHAR    | Фамилия                      |
| department   | VARCHAR    | Название отдела              |

### Таблица `payslip`
Содержит заголовки расчетных листков:
| Атрибут      | Тип данных | Описание                     |
|--------------|------------|------------------------------|
| slip_id      | BIGINT     | Уникальный ID листка (PK)    |
| workercode   | BIGINT     | Ссылка на сотрудника (FK)    |
| slip_date    | DATE       | Дата формирования листка     |

### Таблица `payslip_item`
Включает позиции расчетного листка:
| Атрибут      | Тип данных | Описание                     |
|--------------|------------|------------------------------|
| item_id      | SERIAL     | Автоинкрементный ID (PK)     |
| slip_id      | BIGINT     | Ссылка на листок (FK)        |
| nomination   | VARCHAR    | Наименование позиции         |
| amount       | NUMERIC    | Сумма/значение               |
| quantity     | BIGINT     | Количество (по умолчанию 1)  |
| description  | VARCHAR    | Детальное описание позиции   |

## Взаимодействие сущностей
1. **Worker → Payslip**  
Один сотрудник может иметь несколько расчетных листков (отношение 1-ко-многим)

2. **Payslip → Payslip_item**  
Каждый расчетный листок содержит несколько позиций (отношение 1-ко-многим)

## Схема базы данных
```sql
Worker (1) ──┐
             ├─ Payslip (1) ── Payslip_item (*)
Worker (2) ──┘ 
